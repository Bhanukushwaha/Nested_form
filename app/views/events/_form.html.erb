<%#= form_with(model: event) do |form| %>
<%= nested_form_for @event, :html => { url: "/events"} do |form| %>
  <% if @event.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(@event.errors.count, "error") %> prohibited this event from being saved:</h2>
      <ul>
        <% @event.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="form-group">
    <label for="exampleInputPassword1">Title</label>
    <%= form.text_field :title, class: "form-control", placeholder: "Title" %>
  </div>
  <div class="form-group">
    <label for="exampleInputPassword1">Description</label>
    <%= form.text_area :description, class: "form-control", placeholder: "Description" %>
  </div>
  
  <table id="tasks">    
    <%= form.fields_for :venues do |venues_form| %>
    
      <div>
        <%= venues_form.label :Venue_Name,  style: "display: block" %>
        <%= venues_form.text_field :name, :required => true %>
      </div>      
      <table id="tasks">    
        <%= venues_form.fields_for :address do |address_form| %>
          <div>
            <%= address_form.label :address_City,  style: "display: block" %>
            <%= address_form.text_field :city, :required => true %>
          </div>
        <% end %>
      </table>  
      <%= venues_form.link_to_add "Add a address for venue", :address, "data-target" => "#tasks" %>   
    <% end %>
  </table>
  <%= form.link_to_add "Add a Venue", :venues, "data-target" => "#tasks" %>

  <table id="tasks">    
    <%= form.fields_for :planner do |planner_form| %>
      <div>
        <%= planner_form.label :Planner_Name,  style: "display: block" %>
        <%= planner_form.text_field :name, :required => true %>
      </div>
    <% end %>
  </table>
  <p>
      <%#= form.link_to_add "Add a planner", :planner, "data-target" => "#tasks" %>
  </p>

  <div>
    <%= form.submit %>
  </div>
<% end %>
